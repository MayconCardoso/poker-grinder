apply from: "$rootDir/config/module/base-android.gradle"
apply plugin: 'kotlin-kapt'
apply plugin: 'dagger.hilt.android.plugin'

android {
    defaultConfig {
        javaCompileOptions {
            annotationProcessorOptions {
                arguments += ["room.schemaLocation": "$projectDir/schemas".toString()]
            }
        }
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    sourceSets {
        androidTest.assets.srcDirs += files("$projectDir/schemas".toString())
    }
}

dependencies {
    // Internal Modules.
    implementation project(path: ':features:grind:data')
    implementation project(path: ':features:bankroll:data')
    implementation project(path: ':features:tournaments:data')
    implementation project(path: ':features:summary:data')
    implementation project(path: ':features:settings:data')

    // Database
    implementation "androidx.room:room-runtime:$ROOM_VERSION"
    implementation "androidx.room:room-ktx:$ROOM_VERSION"
    implementation 'androidx.test:monitor:1.6.0'
    kapt "androidx.room:room-compiler:$ROOM_VERSION"

    // DI
    implementation "com.google.dagger:hilt-android:$DAGGER_VERSION"
    kapt "com.google.dagger:hilt-compiler:$DAGGER_VERSION"

    // Testing
    androidTestImplementation "androidx.test.ext:junit:$ANDROIDX_TEST_EXT_JUNIT_VERSION"
    androidTestImplementation "androidx.test:runner:$ANDROIDX_TEST_VERSION_RUNNER"
    androidTestImplementation "androidx.test:rules:$ANDROIDX_TEST_VERSION_RULES"
    androidTestImplementation "androidx.room:room-testing:$ROOM_VERSION"
}